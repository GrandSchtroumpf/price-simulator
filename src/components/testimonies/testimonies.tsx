import { $, component$, useOn, useStyles$ } from "@qwik.dev/core";
import style from './testimonies.css?inline';

const testimonies = [{}, {}, {}, {}, {}, {}, {}, {}];

export const Testimonies = component$(() => {
  useStyles$(style);
  useOn('qvisible', $(() => {
    const observer = new IntersectionObserver((entries) => {
      for (const entry of entries) {
        if (entry.intersectionRatio > 0.1) entry.target.classList.add('is-visible');
        else entry.target.classList.remove('is-visible');
      }
    }, {
      threshold: [0.1]
    });
    const sections = document.querySelectorAll('section')!;
    for (const section of sections) {
      observer.observe(section);
    }
  }));
  
  return (
    <section id="testimonies">
      <article class="identity">
        <div class="img-container">
          <img src="/imgs/workshop.webp" />
          <svg viewBox="0 0 100 100" fill="currentColor">
            <path class="hammer left" d="M29.21 71.17c-.24.24-.24.63 0 .86l1.2 1.2c1.33 1.33 3.48 1.33 4.8 0l31.61-31.61-4.04-4.04-33.58 33.58ZM33.04 71.05c-.27.98-1.37 1.46-2.28 1.02-.62-.3-.76-1.13-.27-1.62l10.2-10.15c-5.35 5.35-7.11 8.79-7.65 10.75ZM52.05 48.81l10.7-10.58 3.45 3.43c-8.09 1.18-14.15 7.15-14.15 7.15ZM81.38 40.51l-2.39-2.39c-.09-.09-.23-.11-.34-.06-1.96.77-3.09-1.55-3.49-2.61-.34.39-1.05 1.09-1.8 1.79-.55.72-1.04 1.57-.69 1.99.67.81 1.66 2.33 1.42 3.25.01.03-.39-1.7-2.64-3.25-.09-.09-.19-.1-.27-.08.79.63 2.53 2.17 2.77 3.71l2.54 2.54c.16.16.42.16.58 0l4.31-4.31c.16-.16.16-.42 0-.58ZM76.44 45.17l-2.28-2.37 1.9-1.76c-1.76 1.58-.1 3.6.37 4.12l.12.13s-.05-.05-.12-.13ZM75.01 33.49l-5.31-5.31c-8.52-8.52-16.72-2.62-16.72-2.62 0 0 7.55-2.16 14.48 4.77.13.13.04.55-.04.71-.8 1.55-4.35 5.46-4.35 5.46-.14.18-.14.41-.02.59l4.29 4.29c.19.13.45.12.63-.04l2.55-2.37s3.57-3.35 4.5-4.18c.35-.36.36-.94 0-1.3ZM68.17 31.56c-.52.79-3.73 4.74-3.96 5.02 0 .01-.01.02-.01.02-.09.12-.09.28 0 .4l1.49 2.28-2.27-2.27c-.13-.13-.13-.34 0-.46 0 0 3.07-3.15 4.41-5.54.15-.27.08-.53-.15-.85 0 0-5.17-6.22-13.46-5.03.65-.12 8.27-1.53 13.89 4.88 0 0 .6.75.06 1.56ZM69.5 39.65c-.77.74-.61.5-.11-.1l5.23-4.93c.17-.19.25-.46.1-.69 0 0-.72-.56-4.24-4.58-.12-.14 4.33 4.39 4.33 4.39.26.26.25.67-.01.92l-5.3 4.99Z"/>
            <path class="hammer right" d="M70.79 71.17l-33.58-33.58-4.04 4.04 31.61 31.61c1.33 1.33 3.48 1.33 4.8 0l1.2-1.2c.24-.24.24-.63 0-.86ZM33.51 41.63l3.7-3.7c-3.57 3.57 6.03 13.42 6.03 13.42l-9.72-9.72ZM69.51 72.35c-2.03 1.07-3.92.67-5-.03-.14-.09-.25-.23-.33-.38-1.7-3.33-8.95-10.76-11.78-13.6-.38-.37-.76-.75-1.15-1.14 0 0 .44.44 1.15 1.14 13.41 13.28 16.28 13.9 17.07 13.85.09 0 .13.12.05.17ZM24.84 35.45c-.4 1.05-1.52 3.38-3.49 2.61-.12-.05-.25-.03-.34.06l-2.39 2.39c-.16.16-.16.42 0 .58l4.31 4.31c.16.16.42.16.58 0l2.54-2.54c.24-1.55 2.02-3.11 2.79-3.72-.72-.49-3.26-2.83-4-3.69ZM25.59 42.15c-.5-.5-4.13-3.91-6.76-1.44l2.3-2.3c.05-.05.13-.07.19-.04.44.17 2.14.64 3.26-1.74.03-.05-.21 1.64-2.04 2.17-.11.03-.15.16-.07.24l3.11 3.11.06.06-.06-.06ZM36.93 36.5s-3.55-3.91-4.35-5.46c-.08-.16-.17-.59-.04-.71 6.94-6.94 14.48-4.77 14.48-4.77 0 0-8.21-5.89-16.72 2.62l-5.31 5.31c-.36.36-.35.94 0 1.3.93.84 4.48 4.17 4.5 4.18 0 0 0 0 0 0h0l2.55 2.36c.18.16.43.17.63.04l4.29-4.29c.12-.18.12-.42-.02-.59ZM30.5 39.65l-5.3-4.99c-.26-.25-.27-.66-.01-.92 0 0 4.45-4.54 4.33-4.39-3.52 4.02-3.61 4.26-3.61 4.26-.15.23-.07.5.1.69l4.61 5.25c.5.6.66.84-.11.1ZM36.58 37l-2.27 2.27 1.65-2.15c.09-.12.09-.28 0-.4-.62-.85-3.1-4.03-3.48-5.39 0 0 1.55 2.74 4.09 5.2.13.13.13.34 0 .46Z"/>
          </svg>
        </div>
      </article>
      <article class="cards">
        <ul>
          {testimonies.map((testimony, i) => (
            <li key={i}>
              <header>
            
              </header>
            </li>
          ))}
        </ul>
      </article>
    </section>
  )
})